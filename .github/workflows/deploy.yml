# GitHub Actions - Deploy para ProduÃ§Ã£o
# Roda manualmente ou ao fazer push na branch main

name: ğŸš€ Deploy ProduÃ§Ã£o

on:
  push:
    branches: [ main ]
  workflow_dispatch:  # Permite rodar manualmente

jobs:
  deploy:
    name: ğŸš€ Deploy
    runs-on: ubuntu-latest
    environment: "production":
      url: https://seusalao.com  # URL do site em produÃ§Ã£o
      
    
    steps:
    - name: ğŸ“¥ Checkout cÃ³digo
      uses: actions/checkout@v4
    
    - name: ğŸ” Verificar branch
      run: |
        echo "Branch: ${{ github.ref_name }}"
        if [ "${{ github.ref_name }}" != "main" ]; then
          echo "âŒ Deploy sÃ³ Ã© permitido na branch main"
          exit 1
        fi
    
    # ====================
    # Deploy Backend
    # ====================
    - name: ğŸ Deploy Backend
      run: |
        echo "ğŸš€ Configurar deploy do backend aqui"
        echo "Exemplos:"
        echo "  - Railway: railway up"
        echo "  - Render: render deploy"
        echo "  - Heroku: git push heroku main"
        # Adicionar comandos especÃ­ficos quando escolher plataforma
    
    # ====================
    # Deploy Frontend
    # ====================
    - name: âš›ï¸ Deploy Frontend
      run: |
        echo "ğŸš€ Configurar deploy do frontend aqui"
        echo "Exemplos:"
        echo "  - Vercel: vercel --prod"
        echo "  - Netlify: netlify deploy --prod"
        # Adicionar comandos especÃ­ficos quando escolher plataforma
    
    - name: âœ… Deploy concluÃ­do
      run: |
        echo "âœ… Deploy realizado com sucesso!"
        echo "ğŸŒ Verifique: https://seusalao.com"